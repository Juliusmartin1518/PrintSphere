# PrintSphere POS System

## Overview

PrintSphere POS is a point-of-sale system for printing businesses. It manages orders for various printing services, inventory tracking, user management, and financial reporting. The application is built with a modern React frontend and Express backend architecture, using Drizzle ORM for database operations.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend

- **Framework**: React with TypeScript
- **Routing**: Wouter (lightweight router)
- **State Management**: React Query for server state, React Context for local state
- **UI Framework**: Custom components built with Radix UI primitives and styled with Tailwind CSS
- **Data Fetching**: React Query with a centralized API request handler

The frontend follows a component-based architecture with clear separation of concerns:
- `/components`: Reusable UI components
- `/hooks`: Custom React hooks for shared logic
- `/lib`: Utility functions, types, and constants
- `/pages`: Page components that represent different routes

### Backend

- **Framework**: Express.js with TypeScript
- **Authentication**: Passport.js with session-based authentication
- **Session Management**: express-session with MemoryStore (would be replaced with PostgreSQL in production)
- **Database ORM**: Drizzle ORM for type-safe database operations
- **Validation**: Zod for schema validation

The backend follows a modular structure:
- RESTful API endpoints for data operations
- Centralized error handling
- Database abstraction via a storage service

### Database

- **ORM**: Drizzle ORM with PostgreSQL dialect
- **Schema**: Defined in `shared/schema.ts` with the following main tables:
  - users
  - services
  - orders
  - orderItems
  - inventory
  - expenses

### Development Environment

- **Build Tool**: Vite for frontend bundling and development server
- **TypeScript**: Strict mode enabled for type safety
- **Hot Module Replacement**: Enabled during development
- **Styling**: Tailwind CSS with custom theme configuration

## Key Components

### Authentication System

- Session-based authentication using Passport.js
- User roles: admin, cashier, staff
- Role-based access control for different parts of the application

### Point of Sale

- Dynamic pricing calculator for various printing services
- Shopping cart functionality
- Order creation and management
- Payment processing (cash, GCash, card)

### Inventory Management

- Stock tracking
- Low-stock alerts
- Supply ordering

### Reporting

- Sales reports
- Financial dashboards
- Charts and visualizations using Recharts

## Data Flow

1. **User Authentication**:
   - User credentials → Backend validation → Session creation → Frontend access

2. **Order Processing**:
   - Service selection → Pricing calculation → Cart management → Order creation → Payment processing → Order fulfillment

3. **Inventory Tracking**:
   - Order creation → Stock deduction → Low stock detection → Reorder alerts

4. **Reporting**:
   - Order/sales data → Aggregation → Chart visualization

## External Dependencies

### Frontend Libraries

- **UI Components**: Radix UI primitives and shadcn/ui component system
- **Forms**: React Hook Form with Zod validation
- **Data Fetching**: TanStack Query (formerly React Query)
- **Charts**: Recharts for data visualization
- **Icons**: Lucide icons and Remixicon

### Backend Libraries

- **Database**: Drizzle ORM for PostgreSQL 
- **Authentication**: Passport.js
- **Validation**: Zod
- **Session Management**: express-session

## Deployment Strategy

The application is configured for deployment on Replit with:

1. **Build Process**:
   - Frontend: Vite build process compiles React components to optimized JS/CSS
   - Backend: esbuild bundles server code for production

2. **Runtime Configuration**:
   - Production mode disables development features
   - Static assets served from the dist/public directory

3. **Database Connection**:
   - Connects to PostgreSQL database via environment variables
   - Drizzle ORM manages the database schema and migrations

4. **Startup Process**:
   - Development: `npm run dev` for hot-reloading
   - Production: `npm run start` to serve the built application

## Development Workflow

1. Run the development server: `npm run dev`
2. Make changes to the code (changes hot-reload)
3. Build for production: `npm run build`
4. Start the production server: `npm run start`
5. Database schema changes: `npm run db:push`

## Project Structure

- `/client`: Frontend React application
- `/server`: Backend Express application
- `/shared`: Shared code between frontend and backend (schemas, types)
- `/migrations`: Database migration files generated by Drizzle

## Next Steps

1. Complete the implementation of API endpoints in the backend
2. Connect to a PostgreSQL database
3. Implement proper authentication with password hashing
4. Complete the frontend UI components and pages
5. Add comprehensive error handling
6. Implement real-time updates for order status